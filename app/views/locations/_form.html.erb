


<input id="address" type="textbox" value="Botswana" onkeyup="codeAddress()" style="width: 500px"/>
<div id="map_canvas"></div>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>
<script type="text/javascript" src="http://maps.stamen.com/js/tile.stamen.js"></script>

<script type="text/javascript">
var geocoder;
var map;	
var rectangle;

  function initialize() {
		geocoder = new google.maps.Geocoder();
		
		
		var myOptions = {
					center: new google.maps.LatLng(0, 0),
		      zoom:3,
		      mapTypeId: google.maps.MapTypeId.TERRAIN
		    }
		map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
		
		
		// for use with the stamen water colour map type- tiles too slow right now
		//     var layer = "watercolor";
		// map = new google.maps.Map(document.getElementById("map_canvas"), {
		//     center: new google.maps.LatLng(0, 0),
		//     zoom: 3,
		//     mapTypeId: layer,
		//     mapTypeControlOptions: {
		//         mapTypeIds: [layer]
		//     }
		// });
		// map.mapTypes.set(layer, new google.maps.StamenMapType(layer));

  }

	function codeAddress() {
		
	    var address = document.getElementById("address").value;
	    geocoder.geocode( { 'address': address}, function(results, status) {
	      if (status == google.maps.GeocoderStatus.OK) {
					
					//TODO: add something to slow down the geocoder- either after 2 keystrokes or pause
					if (rectangle != undefined) {
						rectangle.setMap(null);
						rectangle = null;
					}
					
	        rectangle = new google.maps.Rectangle({
	          bounds: results[0].geometry.bounds,
	          editable: true
	        });

	        rectangle.setMap(map);
					map.setCenter(results[0].geometry.location, 5);
					map.fitBounds(results[0].geometry.bounds);

	        
	      } else {
	        //alert("Geocode was not successful for the following reason: " + status);
	      }
	    });
	  }



	
  google.maps.event.addDomListener(window, 'load', initialize);
</script> 







